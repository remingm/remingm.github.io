<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Efficient Red-Black Tree Augmentation</title>
  <meta name="description" content="ProblemConsider storing a dynamic set S of numbers in a red-black tree. The typical operations supported by a red-black tree are Insert, Search and Delete bu...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://remingm.github.io/machine/learning/tensorflow/neural/networks/mlb/baseball/2016/06/24/red-black-trees.html">
  <link rel="alternate" type="application/rss+xml" title="Michael Remington" href="http://remingm.github.io/feed.xml">



</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Michael Remington</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>


      <div class="trigger">
        
          
          <a class="page-link" href="/about/">    </a>
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Efficient Red-Black Tree Augmentation</h1>
    <p class="post-meta"><time datetime="2016-06-24T20:01:49-05:00" itemprop="datePublished">Jun 24, 2016</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h2 id="problem">Problem</h2>
<p>Consider storing a dynamic set <em>S</em> of numbers in a red-black tree. The typical operations supported by a red-black tree are Insert, Search and Delete but we will add another operation, namely, MinDiff, which gives the absolute value of the difference between the two closest numbers in <em>S</em>. For example if <em>S = {4,18,23,34,49,60,73,84,99}</em> then the MinDiff function would return 5 since <em>|23 - 18| = 5</em> and the absolute value of the difference between any other two numbers in the set is no smaller.
Show how to augment a red-black tree to support this operation efficiently while maintaining the <em>O(lg n)</em> running time for Insert, Search and Delete. Also, show how to output the values of two numbers that created the MinDiff. For the example above you would output 23 and 18.</p>

<h2 id="solution">Solution</h2>
<p>Each node in the red-black tree will be augmented with four fields:</p>

<ol>
  <li>The minimum of either <code class="language-plaintext highlighter-rouge">node.value - node.left.max</code> (maximum value in left sub-tree) or <code class="language-plaintext highlighter-rouge">node.value - node.right.min</code> (minimum value in right sub-tree). This is the minimum difference of the current node with any node in its sub-tree.</li>
  <li>Maximum value in sub-tree (<code class="language-plaintext highlighter-rouge">node.right.max</code>). If no right child, put the value of the current node.</li>
  <li>Minimum value in sub-tree (<code class="language-plaintext highlighter-rouge">node.left.min</code>). If no left child, put the value of the current node.</li>
  <li>Minimum difference in sub-tree. This differs from the first field in that this is the minimum difference between any two nodes in the sub-tree, not just the current node. This is the minimum of the following three fields: <code class="language-plaintext highlighter-rouge">node.left.field4, node.right.field4, node.field1</code>.</li>
</ol>

<p><em>O(lg n)</em> running time for Insert, Search and Delete is maintained because theorem 14.1 (1) from <em>Introduction to Algorithms</em> by Cormen, is valid for a red-black tree augmented with the above fields. This is because all of the augmented fields of a node can be determined from examining only the augmented fields of the immediate left child and/or right child. It is only necessary to look at the largest value in the left sub-tree and the smallest value in the right sub-tree when determining minimum difference with the parent node, as these values will be the closest in value to the parent node. After any insert, search, or delete operations, the root node will be augmented with the minimum diâ†µerence in the tree in field 4.</p>

<p>Finding the values of the two numbers that created the MinDiff can be done in <em>O(lgn)</em> time: Starting at the root, if <code class="language-plaintext highlighter-rouge">node.field4 = node.left.field4</code>, go left, otherwise go right. Repeat until <code class="language-plaintext highlighter-rouge">node.field1 = root.field4</code>. At this point, the current node is one of the values of the minimum difference, and the other is either <code class="language-plaintext highlighter-rouge">node.right.field2</code> or <code class="language-plaintext highlighter-rouge">node.left.field3</code>.</p>

<hr />
<p>1.</p>

<blockquote>
  <p>Theorem 14.1 (Augmenting a red-black tree)
Let f be an attribute that augments a red-black tree T of n nodes, and suppose that the value of f for each node x depends on only the information in nodes x, x:left, and x:right, possibly including x:left:f and x:right:f. Then, we can maintain the values of f in all nodes of T during insertion and deletion without asymptotically affecting the O.lg n/ performance of these operations.</p>
</blockquote>

  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Michael Remington</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Michael Remington</li>
          <li><a href="mailto:michael.remington@outlook.com">michael.remington@outlook.com</a></li>
          <li><a href="/pdfs/Remington_Resume.pdf">Resume</a></li>
          <li><a href="https://www.linkedin.com/in/remingtonmichael">LinkedIn</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>
	<a data-sumome-discover-grid></a>

  </div>


	<script src="//load.sumome.com/" data-sumo-site-id="c7ab691945de36b5d36edfa0ce7adfb1a53521700bd66ceaf87ccb252daf43b8" async="async"></script>


	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-83996371-1', 'auto');
	  ga('send', 'pageview');

	</script>

</footer>


  </body>

</html>
